[{"C:\\Users\\arjun\\Desktop\\practice\\random_song_generator\\client\\src\\App.js":"1","C:\\Users\\arjun\\Desktop\\practice\\random_song_generator\\client\\src\\reportWebVitals.js":"2","C:\\Users\\arjun\\Desktop\\practice\\random_song_generator\\client\\src\\index.js":"3","C:\\Users\\arjun\\Desktop\\practice\\random_song_generator\\client\\src\\components\\videoplayer.js":"4"},{"size":3247,"mtime":1613403412099,"results":"5","hashOfConfig":"6"},{"size":362,"mtime":1610570366648,"results":"7","hashOfConfig":"6"},{"size":500,"mtime":1610528044869,"results":"8","hashOfConfig":"6"},{"size":1331,"mtime":1613403559579,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"12"},"nq0dab",{"filePath":"13","messages":"14","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"17","messages":"18","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\Users\\arjun\\Desktop\\practice\\random_song_generator\\client\\src\\App.js",["19","20","21","22","23","24","25","26","27","28","29","30"],"import logo from './logo.svg';\nimport './App.css';\nimport React, { useState, useEffect, useRef } from \"react\";\nimport PlayVideo from './components/videoplayer'\nimport axios from 'axios'\nfunction App() {\n  const [song, setSong] = useState(\"Click below!\");\n  const [image, setImage] = useState('')\n  const [load, setLoad] = useState('Generate')\n  const [location, setLocation] = useState('US')\n  const [history, setHistory]=  useState([])\n  const [play, setPlay] = useState(true)\n  const [loop, setLoop] = useState(false)\n  const [url, setURL] = useState('')\n  const myRef = useRef(null)\n  var token;\n  useEffect(() => {\n    const auth = async () => {\n      const result = await axios.post(\n        `/spotify-client-auth`,\n        {\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          withCredentials: true,\n        }\n      );\n      //console.log(result)\n      token = result.access_token\n    };\n    auth();\n  }, []);\n\n\n  const handleClick = async(e) => {\n\n    e.preventDefault()\n    setPlay(false)\n    window.scrollTo(0, 0)\n    setLoad('Loading...')\n    //var searchstring = randomstring();\n    const result = await axios.post(\n      `/generate`,\n      {location: location},\n      {\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        withCredentials: true,\n      }\n    );\n      console.log(result)\n    var status = result.data.status\n    if(status>=400){\n      console.log(status,\"help\")\n      //window.location.reload();\n    }\n    else{\n      var {song, artists, image} = result.data\n      setImage(image)\n      setSong(`${song} - ${artists}`)\n      const hist = [{song: song, artists : artists, image:image}, ...history]\n      if(hist.length>7)\n        hist.pop()\n      setHistory(hist)\n      console.log(history)\n    }\n    //setLoad('Generate')\n  }\n  const loader = () => {\n    setLoad('Generate')\n  }\n\n  const loadPreviousSong = (i,e) => {\n    if(i==0)\n      return\n    console.log(i)\n    setSong(`${history[i][\"song\"]} - ${history[i][\"artists\"]}`)\n    setImage(history[i][\"image\"])\n    var hist = history\n    var cur = hist[i]\n    hist.splice(i,1)\n    hist.splice(0,0,cur)\n    setHistory(hist)\n\n  }\n\n  const executeScroll = () => myRef.current.scrollIntoView() \n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <p className=\"header\">Generate Random Song</p>\n        <img src={image == '' ?logo : image} className=\"img\" alt=\"logo\" onLoad={loader}/>\n        <p>\n          {song}\n        </p>\n        <a\n          className=\"App-link\"\n          target=\"_blank\"\n          onClick={handleClick}\n        >\n          {load}\n        </a>\n        <br></br>\n          {(history.length == 0) ? (<></>): (<a className=\"App-link\" onClick={executeScroll}>History</a>)}\n        \n        <PlayVideo play={play} search={song} loop={loop}></PlayVideo>\n        </header>\n      <b>\n          History\n        </b>\n        <br></br>\n    \n        <div className=\"history\" ref={myRef}>\n        \n        {history.map((e,i)=> {\n          return(<>\n          <li><a className=\"prevSongs\" key={i} onClick={(e) => loadPreviousSong(i,e)}>{e.song}</a> \n          <br></br></li>\n          </>)\n        })}\n        </div>\n       \n    </div>\n  );\n}\n\nexport default App;\n","C:\\Users\\arjun\\Desktop\\practice\\random_song_generator\\client\\src\\reportWebVitals.js",[],"C:\\Users\\arjun\\Desktop\\practice\\random_song_generator\\client\\src\\index.js",[],"C:\\Users\\arjun\\Desktop\\practice\\random_song_generator\\client\\src\\components\\videoplayer.js",["31"],{"ruleId":"32","severity":1,"message":"33","line":10,"column":20,"nodeType":"34","messageId":"35","endLine":10,"endColumn":31},{"ruleId":"32","severity":1,"message":"36","line":13,"column":16,"nodeType":"34","messageId":"35","endLine":13,"endColumn":23},{"ruleId":"32","severity":1,"message":"37","line":14,"column":10,"nodeType":"34","messageId":"35","endLine":14,"endColumn":13},{"ruleId":"32","severity":1,"message":"38","line":14,"column":15,"nodeType":"34","messageId":"35","endLine":14,"endColumn":21},{"ruleId":"32","severity":1,"message":"39","line":29,"column":7,"nodeType":"34","messageId":"35","endLine":29,"endColumn":12},{"ruleId":"40","severity":1,"message":"41","line":29,"column":15,"nodeType":"42","endLine":29,"endColumn":34},{"ruleId":"43","severity":1,"message":"44","line":75,"column":9,"nodeType":"45","messageId":"46","endLine":75,"endColumn":11},{"ruleId":"43","severity":1,"message":"44","line":93,"column":25,"nodeType":"45","messageId":"46","endLine":93,"endColumn":27},{"ruleId":"47","severity":1,"message":"48","line":97,"column":9,"nodeType":"49","endLine":101,"endColumn":10},{"ruleId":"43","severity":1,"message":"44","line":105,"column":28,"nodeType":"45","messageId":"46","endLine":105,"endColumn":30},{"ruleId":"47","severity":1,"message":"48","line":105,"column":46,"nodeType":"49","endLine":105,"endColumn":94},{"ruleId":"47","severity":1,"message":"48","line":118,"column":15,"nodeType":"49","endLine":118,"endColumn":87},{"ruleId":"32","severity":1,"message":"50","line":1,"column":38,"nodeType":"34","messageId":"35","endLine":1,"endColumn":48},"no-unused-vars","'setLocation' is assigned a value but never used.","Identifier","unusedVar","'setLoop' is assigned a value but never used.","'url' is assigned a value but never used.","'setURL' is assigned a value but never used.","'token' is assigned a value but never used.","react-hooks/exhaustive-deps","Assignments to the 'token' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","MemberExpression","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'useContext' is defined but never used."]